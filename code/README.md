# Code

This folder contains all code used to process the data to generate the study's results

---

*Step 1. Questionnaire data*

The syntax `vanderMeulen_DCN_2020_Syntax_Questionnaires.sps` was used to check reliability of the original parent-reported prosocial behavior scales, perform principal component analyses, and create new subscales for parent-reported prosocial behavior & empathy. 
The accompanying file with raw data can be accessed via [link to Dataverse publication package]. Output from this syntax was used in subsequent steps.

---


*Step 2. Merging datafiles*

After processing questionnaire data as described in step 1, the resulting derivatives were merged with output from Freesurfer and demographic data with the script `vanderMeulen_DCN_2020_Script_MergeFiles.R`. 
The accompanying files with raw data can be accessed via [link to Dataverse publication package].


---

*Step 3. Data cleaning & selection*

The syntax `vanderMeulen_DCN_2020_Syntax_Data Analysis.sps` was used to clean derivative data (checking outliers, checking normality, checking associations with co-variates) and to select data for behavioral genetic analyses. The helper syntax `hcreg.SPS` is required to run part of the syntax. The input file for this syntax can be accessed via [link to Dataverse publication package]. This syntax results in three CSV files that were used for the behavioral genetic analyses.

---


*Step 4. Behavioral genetic analyses*

The script `vanderMeulen_DCN_2020_Script_Univariate_BehavioralGenetics.R` was used to generate results for the univariate heritability analyses, reported in section 3.1 in the paper. The datafiles `vanderMeulen_DCN_2020_Data_BehGen_Behavior.csv` (for participants included in behavioral heritability analyses) and `vanderMeulen_DCN_2020_Data_BehGen_Univariate_Brain.csv` (for participants included in MRI heritability analyses) contain the required data.

Additionally, the script `vanderMeulen_DCN_2020_Script_Visualization_WithinTwinCorrelations.Rmd` (using datafile `vanderMeulen_DCN_2020_Data_BehGen_Univariate_Brain.csv`) was used to generate within-twin correlation plots, that were reported in Supplementary Figure S1. These plots can also be generated by clicking the button Launch Binder at the top of the main page.

The script 'vanderMeulen_DCN_2020_Script_Bivariate_BehavioralGenetics.R' was used to generate results for the univariate heritability analyses, reported in section 3.2 in the paper. The helper code `miFunctions2.R` is required to run part of the code.The datafile `vanderMeulen_DCN_2020_Data_BehGen_Bivariate_Brain_Behavior.csv` (for participants included in brain-behavior heritability analyses) contains the required data.

